/* Container-Based Scrolling - Prevents Address Bar from Hiding */
/* Best practice from 2024: scroll happens in container, not at page level */

/* For dashboard and regular pages (NOT invitation pages) */
@media only screen and (max-width: 768px) {
    html:not(:has(body.invitation-page)) {
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        width: 100%;
        height: 100vh;
        height: calc(var(--vh, 1vh) * 100);
        max-height: 100vh;
        max-height: calc(var(--vh, 1vh) * 100);
        overflow: hidden;
    }

    body:not(.invitation-page) {
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        width: 100%;
        height: 100vh;
        height: calc(var(--vh, 1vh) * 100);
        overflow: hidden;
    }

    /* App Router - target the dashboard layout containers */
    body.dashboard-page .dashboard-layout,
    body.dashboard-page .admin-dashboard-layout {
        position: relative;
        width: 100%;
        height: 100vh;
        height: calc(var(--vh, 1vh) * 100);
        max-height: 100vh;
        max-height: calc(var(--vh, 1vh) * 100);
        min-height: 0;
        /* Override min-height: 100vh from desktop */
        overflow: hidden;
    }

    /* Make main content fill entire viewport and scrollable */
    body.dashboard-page .main-content {
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        width: 100%;
        height: 100vh;
        height: calc(var(--vh, 1vh) * 100);
        overflow-y: auto;
        overflow-x: hidden;
        -webkit-overflow-scrolling: touch;
    }
}

/* For invitation pages - use fixed height to prevent expansion */
@media only screen and (max-width: 768px) {
    body.invitation-page {
        position: fixed !important;
        top: 0 !important;
        left: 0 !important;
        right: 0 !important;
        bottom: 0 !important;
        width: 100% !important;
        height: 100vh !important;
        height: calc(var(--vh, 1vh) * 100) !important;
        max-height: 100vh !important;
        max-height: calc(var(--vh, 1vh) * 100) !important;
    }

    /* Ensure invitation content containers use fixed height */
    body.invitation-page>div,
    body.invitation-page>div>div,
    body.invitation-page .fullpage-wrapper,
    body.invitation-page [class*="scroll"],
    body.invitation-page [class*="container"] {
        max-height: 100vh !important;
        max-height: calc(var(--vh, 1vh) * 100) !important;
    }
}